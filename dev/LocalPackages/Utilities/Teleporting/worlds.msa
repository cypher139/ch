#Worlds:
#Information and teleporting
world:/world [$world] = >>>
@name = 'World'
@prefix = color(7).'['.color(9).@name.color(7).'] '
assign(@world, $world)
assign(@gotoworld, $world)


switch(@world) {
case 'c':
    @gotoworld = 'creative'
case 'sky':
    @gotoworld = 'skyblock'
case 'f':
    @gotoworld = 'fun'
case 'end':
    @gotoworld = pworld().'_the_end'
case 'n':
	@gotoworld = pworld().'_nether'
case 'default':
case 'w':
case '':
	@gotoworld = ini_decode(read(file_resolve(sys_properties()['user.dir'].'/server.properties')))['level-name']
default:
    assign(@pworld, pworld())
    msg(@prefix.color(9).'Available worlds:')
	foreach(@w in get_worlds()) {
		msg(color(7).@w)
	}
    die(@prefix.color(9).'You are in world: '.color('e').@pworld)
}

try( 
	@gotoloc = get_spawn(@gotoworld)
,@fail,
	die(@prefix.' Cannot find spawn location for that world.')
)

if(!is_array(@gotoloc) || @gotoloc == '' || @gotoloc == null) {
die(@prefix.' That world was not loaded.')
}
set_ploc(@gotoloc)
msg(@prefix.' A new world awaits you!')
<<<
