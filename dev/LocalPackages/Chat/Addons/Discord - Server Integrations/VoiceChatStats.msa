#version 1.0-tmc
admin:/VCStats [$id] [$] = >>>
@name = 'Discord'
@id = null
@stats = get_value('Chat.Discord.last.VC')
if(!is_array(@stats)) { die('['.@name.'] There are no stats saved.') }	
if(is_numeric($id)) {
	@id = $id - 1
}

switch(@id) {
case 0..19:
	if(array_index_exists(@stats, @id)) {
		msg(color(9).'['.@name.'] Last Voice Chat stat #'.(@id + 1).':')
		msg('Channel: '@stats[@id]['channel'].' Start: '.simple_date('MM/dd/yy HH:mm', @stats[@id]['start']).' / End: '.simple_date('MM/dd/yy HH:mm', @stats[@id]['end']))
		msg('Users joined: '.color('b').array_implode(@stats[@id]['users'], ', '))
		if(array_index_exists(@stats[@id], 'pinguser')) {
			msg('User that triggered VC Role ping: '.@stats[@id]['pinguser'])
		}
	} else { msg('['.@name.'] Voice Chat ID was not found.') }
case null:
	msg('['.@name.'] Last Voice Chat stats:')
	foreach(@i: @stat in @stats) {
		msg(color(9).'#'.(@i + 1).':'.color('r').' Channel: '.@stat['channel'].' Start: '.simple_date('MM/dd/yy HH:mm', @stat['start']).' / End: '.simple_date('MM/dd/yy HH:mm', @stat['end']))
		msg('Users joined: '.color('b').array_implode(@stat['users'], ', '))
		if(array_index_exists(@stat, 'pinguser')) { msg('User that triggered VC Role ping: '.@stat['pinguser']) }
	}
default:
	msg('['.@name.'] Last Voice Chat ID not recognized.')
}
<<<