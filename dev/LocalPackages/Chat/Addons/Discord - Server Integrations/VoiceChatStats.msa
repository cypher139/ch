#version 1.0-tmc
admin:/VCStats [$id] [$] = >>>
@name = 'Discord'
@id = null
@stats = get_value('Chat.Discord.last.VC')
if(!is_array(@stats)) { die('['.@name.'] There are no stats saved.') }	
if(is_numeric($id)) {
	@id = $id - 1
}

switch(@id) {
case 0..19:
		msg('['.@name.'] Last Voice Chat stat #'.@id.':')
		msg('Channel: '@stats[@id]['channel'].' Start: '.simple_date('MM/dd/yy HH:mm', @stats[@id]['start']).' / End: '.simple_date('MM/dd/yy HH:mm', @stats[@id]['end']))
		msg('Users joined: '.array_implode(array_keys(@stats[@id]['users']), ', '))
		if(array_index_exists(@stats[@id], 'pinguser')) {
			msg('User that triggered VC Role ping: '.@stats[@id]['pinguser'])
		}
case null:
	msg('['.@name.'] Last Voice Chat stats:')
	foreach(@i: @stat in @stats) {
		msg('#'.(@i + 1).': Channel: '@stat['channel'].' Start: '.simple_date('MM/dd/yy HH:mm', @stat['start']).' / End: '.simple_date('MM/dd/yy HH:mm', @stat['end']))
		msg('Users joined: '.array_implode(array_keys(@stat['users']), ', '))
		if(array_index_exists(@stat, 'pinguser')) { msg('User that triggered VC Role ping: '.@stat['pinguser']) }
	}
default:
	msg('['.@name.'] Last Voice Chat ID not recognized.')
}
<<<